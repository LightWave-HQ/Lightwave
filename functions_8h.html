<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SerialIO: include/functions.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SerialIO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('functions_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">functions.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Function declarations for Wi-Fi handling, configuration, mDNS setup, RTC management, NTP synchronization, and web server management.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;variables.h&quot;</code><br />
<code>#include &lt;ArduinoJson.h&gt;</code><br />
<code>#include &lt;LittleFS.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for functions.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="functions_8h__incl.svg" width="614" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<p><a href="functions_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9cb89416b440b0bdf5dc62e6a7b956a8" id="r_a9cb89416b440b0bdf5dc62e6a7b956a8"><td class="memItemLeft" align="right" valign="top">JsonDocument&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cb89416b440b0bdf5dc62e6a7b956a8">loadConfiguration</a> ()</td></tr>
<tr class="memdesc:a9cb89416b440b0bdf5dc62e6a7b956a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the configuration from the file system.  <br /></td></tr>
<tr class="separator:a9cb89416b440b0bdf5dc62e6a7b956a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c7f04f8bd7365fd8d5451a08ad92a2" id="r_ae8c7f04f8bd7365fd8d5451a08ad92a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8c7f04f8bd7365fd8d5451a08ad92a2">handleWiFiStation</a> (char *ssid, size_t ssid_n, char *password, size_t password_n, JsonDocument config)</td></tr>
<tr class="memdesc:ae8c7f04f8bd7365fd8d5451a08ad92a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the connection to a Wi-Fi station.  <br /></td></tr>
<tr class="separator:ae8c7f04f8bd7365fd8d5451a08ad92a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed49b94feabf003715944c59bed75f9" id="r_a6ed49b94feabf003715944c59bed75f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6ed49b94feabf003715944c59bed75f9">handleAP</a> (char *ssid, size_t ssid_n, char *password, size_t password_n, JsonDocument config)</td></tr>
<tr class="memdesc:a6ed49b94feabf003715944c59bed75f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the device as an Access Point (AP).  <br /></td></tr>
<tr class="separator:a6ed49b94feabf003715944c59bed75f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae33742b0ce03692475bec61ce3d65e6b" id="r_ae33742b0ce03692475bec61ce3d65e6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae33742b0ce03692475bec61ce3d65e6b">handleMDNS</a> ()</td></tr>
<tr class="memdesc:ae33742b0ce03692475bec61ce3d65e6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and configures mDNS for the device.  <br /></td></tr>
<tr class="separator:ae33742b0ce03692475bec61ce3d65e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe42497bcf5cc4d2c854251a3f14065" id="r_a5fe42497bcf5cc4d2c854251a3f14065"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5fe42497bcf5cc4d2c854251a3f14065">handleWebServer</a> ()</td></tr>
<tr class="memdesc:a5fe42497bcf5cc4d2c854251a3f14065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the web server and serves files from LittleFS.  <br /></td></tr>
<tr class="separator:a5fe42497bcf5cc4d2c854251a3f14065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa866f46f1e2ee2be1bc82c26b8127d33" id="r_aa866f46f1e2ee2be1bc82c26b8127d33"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa866f46f1e2ee2be1bc82c26b8127d33">updateWiFiCredentials</a> (const char *newSSID, const char *newPassword)</td></tr>
<tr class="memdesc:aa866f46f1e2ee2be1bc82c26b8127d33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the SSID and password fields in the LittleFS configuration file.  <br /></td></tr>
<tr class="separator:aa866f46f1e2ee2be1bc82c26b8127d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68112deb44091850b1e7e023fc6c700b" id="r_a68112deb44091850b1e7e023fc6c700b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68112deb44091850b1e7e023fc6c700b">saveTimeSettings</a> (const char *onTime, const char *offTime)</td></tr>
<tr class="memdesc:a68112deb44091850b1e7e023fc6c700b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the on and off time settings to the LittleFS configuration file.  <br /></td></tr>
<tr class="separator:a68112deb44091850b1e7e023fc6c700b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd6a38427e26177900a6a421f8e17452" id="r_afd6a38427e26177900a6a421f8e17452"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afd6a38427e26177900a6a421f8e17452">handleRTC</a> ()</td></tr>
<tr class="memdesc:afd6a38427e26177900a6a421f8e17452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes and configures the RTC for the device.  <br /></td></tr>
<tr class="separator:afd6a38427e26177900a6a421f8e17452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0c95e37cb7fd50a7cb8d3ae607c9b0" id="r_a9a0c95e37cb7fd50a7cb8d3ae607c9b0"><td class="memItemLeft" align="right" valign="top">DateTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a0c95e37cb7fd50a7cb8d3ae607c9b0">stringToDateTime</a> (const char *timeString)</td></tr>
<tr class="memdesc:a9a0c95e37cb7fd50a7cb8d3ae607c9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a time string in "hh:mm AM/PM" format (char*) to a DateTime object based on the current date from the RTC.  <br /></td></tr>
<tr class="separator:a9a0c95e37cb7fd50a7cb8d3ae607c9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1802ed1a3bc93e546b603ef68c9fa9f9" id="r_a1802ed1a3bc93e546b603ef68c9fa9f9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1802ed1a3bc93e546b603ef68c9fa9f9">updateRTCFromNTP</a> ()</td></tr>
<tr class="memdesc:a1802ed1a3bc93e546b603ef68c9fa9f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the RTC time using the NTP server.  <br /></td></tr>
<tr class="separator:a1802ed1a3bc93e546b603ef68c9fa9f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function declarations for Wi-Fi handling, configuration, mDNS setup, RTC management, NTP synchronization, and web server management. </p>
<p>This header file declares functions for loading configuration, handling Wi-Fi station and AP modes, setting up mDNS, managing the web server for the ESP32 device, and synchronizing time using RTC and NTP.</p>
<dl class="section note"><dt>Note</dt><dd>The functions defined here are intended for managing network connections, time synchronization, and serving files from LittleFS to create a web interface for the ESP32.</dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-10-28 </dd></dl>
<dl class="section author"><dt>Author</dt><dd>WittyWizard </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6ed49b94feabf003715944c59bed75f9" name="a6ed49b94feabf003715944c59bed75f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ed49b94feabf003715944c59bed75f9">&#9670;&#160;</a></span>handleAP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleAP </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ssid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>ssid_n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>password</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>password_n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JsonDocument</td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the device as an Access Point (AP). </p>
<p>If the device fails to connect to a Wi-Fi network, this function sets up an access point with the provided SSID and password. It uses the configuration data to determine AP settings.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ssid</td><td>A pointer to a character array to hold the AP SSID. </td></tr>
    <tr><td class="paramname">ssid_n</td><td>The size of the SSID character array. </td></tr>
    <tr><td class="paramname">password</td><td>A pointer to a character array to hold the AP password. </td></tr>
    <tr><td class="paramname">password_n</td><td>The size of the password character array. </td></tr>
    <tr><td class="paramname">config</td><td>The JsonDocument containing configuration data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae33742b0ce03692475bec61ce3d65e6b" name="ae33742b0ce03692475bec61ce3d65e6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae33742b0ce03692475bec61ce3d65e6b">&#9670;&#160;</a></span>handleMDNS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleMDNS </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes and configures mDNS for the device. </p>
<p>This function sets up the mDNS responder with the desired hostname, allowing the device to be accessed using a domain name (e.g., <a href="http://lightwave.local">http://lightwave.local</a>). It should be called after the device is connected to a Wi-Fi network. </p>

</div>
</div>
<a id="afd6a38427e26177900a6a421f8e17452" name="afd6a38427e26177900a6a421f8e17452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd6a38427e26177900a6a421f8e17452">&#9670;&#160;</a></span>handleRTC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handleRTC </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes and configures the RTC for the device. </p>
<p>This function sets up the Real Time Clock (RTC) on the ESP32 device. It should be called during the setup process to ensure the RTC is running and has accurate time. If the RTC fails to initialize, the function returns false.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the RTC is successfully initialized, false otherwise. </dd></dl>

</div>
</div>
<a id="a5fe42497bcf5cc4d2c854251a3f14065" name="a5fe42497bcf5cc4d2c854251a3f14065"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe42497bcf5cc4d2c854251a3f14065">&#9670;&#160;</a></span>handleWebServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handleWebServer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the web server and serves files from LittleFS. </p>
<p>This function mounts the LittleFS file system, sets up routes for serving HTML, CSS, and JavaScript files, and starts the web server. It should be called in the setup function after the device is connected to Wi-Fi.</p>
<p>The function handles requests for common file types and serves them using the appropriate MIME types. It also sets up the server to handle any other static files present in LittleFS. </p>

</div>
</div>
<a id="ae8c7f04f8bd7365fd8d5451a08ad92a2" name="ae8c7f04f8bd7365fd8d5451a08ad92a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c7f04f8bd7365fd8d5451a08ad92a2">&#9670;&#160;</a></span>handleWiFiStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool handleWiFiStation </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ssid</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>ssid_n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>password</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>password_n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">JsonDocument</td>          <td class="paramname"><span class="paramname"><em>config</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the connection to a Wi-Fi station. </p>
<p>This function attempts to connect the ESP32 to a Wi-Fi network using the provided SSID and password. If the connection is successful, it returns true. Otherwise, it returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ssid</td><td>A pointer to a character array to hold the Wi-Fi SSID. </td></tr>
    <tr><td class="paramname">ssid_n</td><td>The size of the SSID character array. </td></tr>
    <tr><td class="paramname">password</td><td>A pointer to a character array to hold the Wi-Fi password. </td></tr>
    <tr><td class="paramname">password_n</td><td>The size of the password character array. </td></tr>
    <tr><td class="paramname">config</td><td>The JsonDocument containing configuration data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the connection is successful, false otherwise. </dd></dl>

</div>
</div>
<a id="a9cb89416b440b0bdf5dc62e6a7b956a8" name="a9cb89416b440b0bdf5dc62e6a7b956a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cb89416b440b0bdf5dc62e6a7b956a8">&#9670;&#160;</a></span>loadConfiguration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">JsonDocument loadConfiguration </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Loads the configuration from the file system. </p>
<p>This function reads the configuration file stored in the file system and parses it into a JsonDocument. It must be called during the setup process.</p>
<dl class="section return"><dt>Returns</dt><dd>JsonDocument containing the parsed configuration data. </dd></dl>

</div>
</div>
<a id="a68112deb44091850b1e7e023fc6c700b" name="a68112deb44091850b1e7e023fc6c700b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68112deb44091850b1e7e023fc6c700b">&#9670;&#160;</a></span>saveTimeSettings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool saveTimeSettings </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>onTime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>offTime</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Saves the on and off time settings to the LittleFS configuration file. </p>
<p>This function writes the provided "onTime" and "offTime" values to the LittleFS file system. It creates or updates a JSON file that stores the time settings. If the file cannot be opened or the settings cannot be saved, the function returns false.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onTime</td><td>The time when the light should be turned on (in string format, e.g., "08:00"). </td></tr>
    <tr><td class="paramname">offTime</td><td>The time when the light should be turned off (in string format, e.g., "18:00"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the time settings are successfully saved, false otherwise. </dd></dl>

</div>
</div>
<a id="a9a0c95e37cb7fd50a7cb8d3ae607c9b0" name="a9a0c95e37cb7fd50a7cb8d3ae607c9b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0c95e37cb7fd50a7cb8d3ae607c9b0">&#9670;&#160;</a></span>stringToDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DateTime stringToDateTime </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>timeString</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a time string in "hh:mm AM/PM" format (char*) to a DateTime object based on the current date from the RTC. </p>
<p>This function takes a time string in the format "hh:mm AM/PM" and converts it to a DateTime object using the current date obtained from the RTC. If the time string is invalid, the function returns a default DateTime object set to 2000-01-01 00:00:00.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeString</td><td>The time string in the format "hh:mm AM/PM" as a char*. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>DateTime The DateTime object representing the parsed time, or a default DateTime (2000-01-01 00:00:00) if parsing fails. </dd></dl>

</div>
</div>
<a id="a1802ed1a3bc93e546b603ef68c9fa9f9" name="a1802ed1a3bc93e546b603ef68c9fa9f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1802ed1a3bc93e546b603ef68c9fa9f9">&#9670;&#160;</a></span>updateRTCFromNTP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool updateRTCFromNTP </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the RTC time using the NTP server. </p>
<p>This function synchronizes the Real Time Clock (RTC) with the NTP server time. It fetches the current time from the configured NTP server and sets the RTC with the updated time. It should be called after Wi-Fi is connected.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the RTC is successfully updated from the NTP server, false otherwise. </dd></dl>

</div>
</div>
<a id="aa866f46f1e2ee2be1bc82c26b8127d33" name="aa866f46f1e2ee2be1bc82c26b8127d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa866f46f1e2ee2be1bc82c26b8127d33">&#9670;&#160;</a></span>updateWiFiCredentials()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool updateWiFiCredentials </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>newSSID</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>newPassword</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the SSID and password fields in the LittleFS configuration file. </p>
<p>This function modifies only the "ssid" and "password" fields of the existing JSON configuration in the file and writes the updated values back to the file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newSSID</td><td>The new SSID to be updated in the configuration. </td></tr>
    <tr><td class="paramname">newPassword</td><td>The new password to be updated in the configuration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the update is successful, false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="functions_8h.html">functions.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
